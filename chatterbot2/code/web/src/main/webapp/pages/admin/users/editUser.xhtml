<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:acegijsf="http://sourceforge.net/projects/jsf-comp/acegijsf"
	xmlns:c="http://sourceforge.net/projects/jsf-comp">

<body>

<ui:composition template="/layout/menu.xhtml">

	<ui:debug hotkey="p" rendered="true" />

	<ui:define name="title">Editar usuario</ui:define>

	<ui:define name="main_content">
		<h:form>
			<rich:panel>
				<f:facet name="header">Editar usuario: </f:facet>

				<h:panelGrid columns="2">
					<h:outputText value="Nombre de usuario:" for="username" />
					<h:inputText id="username" maxlength="20"
						value="#{userManagerBean.selectedData.username}" required="true"
						disabled="#{userManagerBean.editMode}">
						<f:attribute name="fieldName" value="Nombre de usuario" />
					</h:inputText>

					<h:outputText value="Contraseña:" for="password" />
					<h:inputSecret id="password" maxlength="20"
						value="#{userManagerBean.selectedData.password}" />

					<h:outputText value="Repetir contraseña:" for="repassword" />
					<h:inputSecret id="repassword" maxlength="20"
						value="#{userManagerBean.repassword}" />

					<h:outputText value="Nombre:" for="firstName" />
					<h:inputText id="firstName" maxlength="50"
						value="#{userManagerBean.selectedData.firstName}" required="true">
						<f:attribute name="fieldName" value="Nombre" />
					</h:inputText>

					<h:outputText value="Apellido:" for="lastName" />
					<h:inputText id="lastName" maxlength="50"
						value="#{userManagerBean.selectedData.lastName}" required="true">
						<f:attribute name="fieldName" value="Apellido" />
					</h:inputText>

					<h:outputText value="E-mail:" for="email" />
					<h:inputText id="email" maxlength="100"
						value="#{userManagerBean.selectedData.email}" required="true"
						validator="#{emailValidator.validate}">
						<f:attribute name="fieldName" value="Mail" />
					</h:inputText>

					<h:outputText value="Rol:" for="role" />
					<h:selectOneMenu id="role" value="#{userManagerBean.userMainRole}"
						converter="#{roleConverter}">
						<f:selectItems value="#{userManagerBean.availableRoles}" />
					</h:selectOneMenu>
				</h:panelGrid>

				<h:panelGrid columns="2">
					<h:commandButton value="Guardar"
						action="#{userManagerBean.save}" styleClass="command-button" />
					<h:commandButton immediate="true" value="Volver"
						action="success" styleClass="command-button" />
				</h:panelGrid>

				<h:messages id="messages" styleClass="errors" style="clear: both;" />
				<br style="clear: both;" />
			</rich:panel>
		</h:form>
	</ui:define>
</ui:composition>

</body>
</html>
